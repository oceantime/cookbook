#########################################################
# LFM2-350M 本地Docker训练配置（调试模式）
# 修改自 lfm2_350m_debug.yaml，适配Docker Compose环境
#########################################################

seed: 23
# resume_from_checkpoint: null

# Language Model parameters
model_name: LiquidAI/LFM2-350M
max_seq_length: 2048
system_prompt: |
  You are a web browser automation agent using BrowserGym.

  The page observation shows accessible elements like:
    [13] button 'Click Me!'
    [42] textbox 'Search'
  The number in brackets is the bid (browser element ID).

  Available actions (use EXACTLY this syntax):
    click('13')          - click element with bid 13
    fill('42', 'hello')  - type 'hello' into element with bid 42
    noop()               - do nothing

  RULES:
  - Output ONLY a single action on one line, nothing else
  - Use the bid NUMBER from the observation (e.g., '13', not 'Click Me!')
  - Do NOT add explanations, comments, or multiple lines

  Example: if observation shows "[13] button 'Click Me!'" and goal is to click it:
  click('13')

# BrowserGym environment (修改为本地Docker容器)
browsergym_url: http://localhost:8000
dataset_size: 10
default_goal: Complete the web task successfully.

# How long and how aggressive do we train?
learning_rate: 5.0e-6
warmup_steps: 10

# Optimization
# gradient_checkpointing: true

# vLLM inference (针对NVIDIA GB10优化)
per_device_train_batch_size: 1
num_generations: 2
generation_batch_size: 2
max_steps: 1
max_completion_length: 32
use_vllm: true
vllm_mode: "colocate"        # colocate 模式：vLLM 与训练共享同一 GPU 进程，不调用 init_communicator
vllm_gpu_memory_utilization: 0.3  # colocate 模式下直接在 GRPOConfig 中生效

# Experiment tracking (本地TensorBoard)
wandb_enabled: true  # 复用字段名，实际使用TensorBoard
wandb_project_name: "browser-control-local"
logging_steps: 1
push_to_hf: false  # 本地训练不上传
